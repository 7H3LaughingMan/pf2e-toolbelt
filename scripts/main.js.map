{
  "version": 3,
  "sources": ["../src/module.js", "../src/modules/arp.js", "../src/modules/effects.js", "../src/apps/knowledges/lores.js", "../src/modules/knowledges.js", "../src/modules/nobulk.js", "../src/modules/unided.js", "../src/main.js"],
  "sourcesContent": ["export const MODULE_ID = 'pf2e-toolbelt'\r\n\r\nexport function getSetting(setting) {\r\n    return game.settings.get(MODULE_ID, setting)\r\n}\r\n\r\nexport function localize(...args) {\r\n    let [key, data] = args\r\n    key = `${MODULE_ID}.${key}`\r\n    if (data) return game.i18n.format(key, data)\r\n    return game.i18n.localize(key)\r\n}\r\n\r\nexport function hasLocalization(key) {\r\n    return game.i18n.has(`${MODULE_ID}.${key}`, false)\r\n}\r\n\r\nexport function localizePath(key) {\r\n    return `${MODULE_ID}.${key}`\r\n}\r\n\r\nexport function subLocalize(subKey) {\r\n    const fn = (...args) => localize(`${subKey}.${args[0]}`, args[1])\r\n\r\n    Object.defineProperties(fn, {\r\n        warn: {\r\n            value: (...args) => warn(`${subKey}.${args[0]}`, args[1], args[2]),\r\n            enumerable: false,\r\n            configurable: false,\r\n        },\r\n        info: {\r\n            value: (...args) => info(`${subKey}.${args[0]}`, args[1], args[2]),\r\n            enumerable: false,\r\n            configurable: false,\r\n        },\r\n        error: {\r\n            value: (...args) => error(`${subKey}.${args[0]}`, args[1], args[2]),\r\n            enumerable: false,\r\n            configurable: false,\r\n        },\r\n        has: {\r\n            value: key => hasLocalization(`${subKey}.${key}`),\r\n            enumerable: false,\r\n            configurable: false,\r\n        },\r\n        path: {\r\n            value: key => localizePath(`${subKey}.${key}`),\r\n            enumerable: false,\r\n            configurable: false,\r\n        },\r\n        template: {\r\n            value: (key, { hash }) => fn(key, hash),\r\n            enumerable: false,\r\n            configurable: false,\r\n        },\r\n    })\r\n\r\n    return fn\r\n}\r\n\r\nfunction notify(str, arg1, arg2, arg3) {\r\n    const type = typeof arg1 === 'string' ? arg1 : 'info'\r\n    const data = typeof arg1 === 'object' ? arg1 : typeof arg2 === 'object' ? arg2 : undefined\r\n    const permanent = typeof arg1 === 'boolean' ? arg1 : typeof arg2 === 'boolean' ? arg2 : arg3 ?? false\r\n\r\n    ui.notifications.notify(localize(str, data), type, { permanent })\r\n}\r\n\r\nexport function warn(...args) {\r\n    const [str, arg1, arg2] = args\r\n    notify(str, 'warning', arg1, arg2)\r\n}\r\n\r\nexport function info(...args) {\r\n    const [str, arg1, arg2] = args\r\n    notify(str, 'info', arg1, arg2)\r\n}\r\n\r\nexport function error(...args) {\r\n    const [str, arg1, arg2] = args\r\n    notify(str, 'error', arg1, arg2)\r\n}\r\n\r\nexport function registerWrapper(path, callback) {\r\n    libWrapper.register(MODULE_ID, path, callback)\r\n}\r\n\r\nexport function getFlag(doc, key, fallback) {\r\n    return doc.getFlag(MODULE_ID, key) ?? fallback\r\n}\r\n\r\nexport function setFlag(doc, key, value) {\r\n    return doc.setFlag(MODULE_ID, key, value)\r\n}\r\n\r\nexport function templatePath(...path) {\r\n    path = path.filter(x => typeof x === 'string')\r\n    return `modules/${MODULE_ID}/templates/${path.join('/')}`\r\n}\r\n", "import { getSetting, info, registerWrapper } from '../module'\r\n\r\nconst PREPARE_WEAPON_DATA = 'CONFIG.PF2E.Item.documentClasses.weapon.prototype.prepareBaseData'\r\nconst PREPARE_WEAPON_DERIVED_DATA = 'CONFIG.PF2E.Item.documentClasses.weapon.prototype.prepareDerivedData'\r\nconst PREPARE_ARMOR_DATA = 'CONFIG.PF2E.Item.documentClasses.armor.prototype.prepareBaseData'\r\nconst PREPARE_ARMOR_DERIVED_DATA = 'CONFIG.PF2E.Item.documentClasses.armor.prototype.prepareDerivedData'\r\n\r\nconst WEAPON_EXCLUDES = ['Compendium.pf2e.equipment-srd.Item.ZhxxqYpVdVx0jSMm']\r\n\r\nexport function registerArp() {\r\n    return {\r\n        settings: [\r\n            {\r\n                name: 'arp',\r\n                type: Boolean,\r\n                default: false,\r\n                requiresReload: true,\r\n            },\r\n        ],\r\n        conflicts: ['pf2e-arp'],\r\n        init: () => {\r\n            if (!getSetting('arp')) return\r\n            registerWrapper(PREPARE_WEAPON_DATA, onPrepareWeaponData, 'WRAPPER')\r\n            registerWrapper(PREPARE_WEAPON_DERIVED_DATA, onPrepareWeaponDerivedData, 'WRAPPER')\r\n            registerWrapper(PREPARE_ARMOR_DATA, onPrepareArmorData, 'WRAPPER')\r\n            registerWrapper(PREPARE_ARMOR_DERIVED_DATA, onPrepareArmorDerivedData, 'WRAPPER')\r\n        },\r\n        ready: isGM => {\r\n            if (isGM && getSetting('arp') && game.settings.get('pf2e', 'automaticBonusVariant') !== 'noABP') {\r\n                game.settings.set('pf2e', 'automaticBonusVariant', 'noABP')\r\n                info('arp.forceVariant')\r\n            }\r\n        },\r\n    }\r\n}\r\n\r\nfunction isValidActor(actor, isCharacter = false) {\r\n    return actor && !actor.getFlag('pf2e', 'disableABP') && (!isCharacter || actor.isOfType('character'))\r\n}\r\n\r\nfunction isValidWeapon(weapon) {\r\n    const traits = weapon._source.system.traits.value\r\n    return !traits.includes('alchemical') && !traits.includes('bomb') && !WEAPON_EXCLUDES.includes(weapon.sourceId)\r\n}\r\n\r\nfunction onPrepareWeaponData(wrapped) {\r\n    const actor = this.actor\r\n    if (!isValidActor(actor, true) || !isValidWeapon(this)) return wrapped()\r\n\r\n    const level = actor.level\r\n\r\n    const traits = this._source.system.traits.value\r\n    if (traits.includes('alchemical') && traits.includes('bomb')) return wrapped()\r\n\r\n    this.system.potencyRune.value = level < 2 ? null : level < 10 ? 1 : level < 16 ? 2 : 3\r\n    this.system.strikingRune.value = level < 4 ? null : level < 12 ? 'striking' : level < 19 ? 'greaterStriking' : 'majorStriking'\r\n\r\n    wrapped()\r\n}\r\n\r\nconst WEAPON_POTENCY_PRICE = {\r\n    1: 35,\r\n    2: 935,\r\n    3: 8935,\r\n    4: 8935,\r\n}\r\nconst WEAPON_STRIKING_PRICE = {\r\n    striking: 65,\r\n    greaterStriking: 1065,\r\n    majorStriking: 31065,\r\n}\r\nfunction onPrepareWeaponDerivedData(wrapped) {\r\n    wrapped()\r\n\r\n    if (!isValidActor(this.actor) || this.isSpecific || !isValidWeapon(this)) return\r\n\r\n    let gp = this.price.value.goldValue\r\n\r\n    const potency = this.system.potencyRune.value\r\n    if (potency) gp -= WEAPON_POTENCY_PRICE[potency]\r\n\r\n    const striking = this.system.strikingRune.value\r\n    if (striking) gp -= WEAPON_STRIKING_PRICE[striking]\r\n\r\n    if ((potency || striking) && !this.system.runes.property.length)\r\n        gp += new game.pf2e.Coins(this._source.system.price.value).goldValue\r\n\r\n    this.system.price.value = new game.pf2e.Coins({ gp })\r\n}\r\n\r\nfunction isValidArmor(armor) {\r\n    return !armor.isShield\r\n}\r\n\r\nfunction onPrepareArmorData(wrapped) {\r\n    const actor = this.actor\r\n    if (!isValidActor(actor, true) || !isValidArmor(this)) return wrapped()\r\n\r\n    const level = actor.level\r\n\r\n    this.system.potencyRune.value = level < 5 ? null : level < 11 ? 1 : level < 18 ? 2 : 3\r\n    this.system.resiliencyRune.value =\r\n        level < 8 ? null : level < 14 ? 'resilient' : level < 20 ? 'greaterResilient' : 'majorResilient'\r\n\r\n    wrapped()\r\n}\r\n\r\nconst ARMOR_POTENCY_PRICE = {\r\n    1: 160,\r\n    2: 1060,\r\n    3: 20560,\r\n    4: 20560,\r\n}\r\nconst ARMOR_RESILIENCY_PRICE = {\r\n    resilient: 340,\r\n    greaterResilient: 3440,\r\n    majorResilient: 49440,\r\n}\r\nfunction onPrepareArmorDerivedData(wrapped) {\r\n    wrapped()\r\n\r\n    if (!isValidActor(this.actor) || this.isSpecific || !isValidArmor(this)) return\r\n\r\n    let gp = this.price.value.goldValue\r\n\r\n    const potency = this.system.potencyRune.value\r\n    if (potency) gp -= ARMOR_POTENCY_PRICE[potency]\r\n\r\n    const resiliency = this.system.resiliencyRune.value\r\n    if (resiliency) gp -= ARMOR_RESILIENCY_PRICE[resiliency]\r\n\r\n    if ((potency || resiliency) && !this.system.runes.property.length)\r\n        gp += new game.pf2e.Coins(this._source.system.price.value).goldValue\r\n\r\n    this.system.price.value = new game.pf2e.Coins({ gp })\r\n}\r\n", "import { getSetting, localize } from '../module'\r\n\r\nexport function registerEffectsPanelHelper() {\r\n    return {\r\n        settings: [\r\n            {\r\n                name: 'effect-remove',\r\n                type: Boolean,\r\n                default: false,\r\n                scope: 'client',\r\n                onChange: refreshEffectsPanel,\r\n            },\r\n            {\r\n                name: 'condition-sheet',\r\n                type: Boolean,\r\n                default: false,\r\n                scope: 'client',\r\n                onChange: refreshEffectsPanel,\r\n            },\r\n        ],\r\n        conflicts: ['pf2e-effect-description'],\r\n        init: () => {\r\n            Hooks.on('renderEffectsPanel', renderEffectsPanel)\r\n        },\r\n    }\r\n}\r\n\r\nfunction refreshEffectsPanel() {\r\n    game.pf2e.effectPanel?.render()\r\n}\r\n\r\nfunction renderEffectsPanel(panel, html) {\r\n    const effectRemove = getSetting('effect-remove')\r\n    const conditionSheet = getSetting('condition-sheet')\r\n    if (!effectRemove && !conditionSheet) return\r\n\r\n    const removeRow = `<div>${localize('effects.remove')}</div>`\r\n    const editIcon = `<a data-action=\"edit\" data-tooltip=\"Edit Item\"><i class=\"fa-solid fa-fw fa-pencil\"></i></a>`\r\n\r\n    const effectPanels = html.find('.effect-item[data-item-id]').toArray()\r\n    for (const effectPanel of effectPanels) {\r\n        const id = effectPanel.dataset.itemId\r\n        const effect = panel.actor?.items.get(id)\r\n        if (!effect) continue\r\n\r\n        if (effectRemove && !effect.isLocked && effect.badge && effect.badge.type === 'counter') {\r\n            effectPanel.querySelector('.effect-info .instructions').insertAdjacentHTML('beforeend', removeRow)\r\n            effectPanel.querySelector('.icon').addEventListener('contextmenu', event => onRemoveEffect(event, panel), true)\r\n        }\r\n\r\n        if (conditionSheet && effect.isOfType('condition')) {\r\n            const h1 = effectPanel.querySelector('.effect-info > h1')\r\n            h1.insertAdjacentHTML('beforeend', editIcon)\r\n            h1.querySelector('[data-action=\"edit\"]').addEventListener('click', event => onConditionSheet(event, panel))\r\n        }\r\n    }\r\n}\r\n\r\nfunction onConditionSheet(event, panel) {\r\n    const effect = getEffect(event, panel)\r\n    if (!effect?.isOfType('condition')) return\r\n    event.preventDefault()\r\n    effect.sheet.render(true)\r\n}\r\n\r\nfunction onRemoveEffect(event, panel) {\r\n    if (!event.shiftKey) return\r\n\r\n    const effect = getEffect(event, panel)\r\n    if (!effect || effect.isLocked || !effect.badge || effect.badge.type !== 'counter') return\r\n\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n    event.stopImmediatePropagation()\r\n\r\n    effect.delete()\r\n}\r\n\r\nfunction getEffect(event, panel) {\r\n    const target = event.currentTarget\r\n    const effect = target.closest('.effect-item[data-item-id]')\r\n    const id = effect.dataset.itemId\r\n    return panel.actor?.items.get(id)\r\n}\r\n", "import { getFlag, setFlag, subLocalize, templatePath } from '../../module'\r\n\r\nexport class EditLores extends FormApplication {\r\n    constructor(actor, options = {}) {\r\n        const id = `npc-edit-lores-${actor.id}`\r\n        super(actor, { ...options, id })\r\n    }\r\n\r\n    static get defaultOptions() {\r\n        return mergeObject(super.defaultOptions, {\r\n            title: 'Edit Lores',\r\n            template: templatePath('knowledges/lores.hbs'),\r\n            width: 400,\r\n        })\r\n    }\r\n\r\n    getData(options) {\r\n        const actor = this.object\r\n\r\n        return mergeObject(super.getData(options), {\r\n            unspecified: getFlag(actor, 'unspecified') ?? '',\r\n            specific: getFlag(actor, 'specific') ?? '',\r\n            i18n: subLocalize('knowledges.editLore'),\r\n        })\r\n    }\r\n\r\n    async _updateObject(event, { unspecified, specific }) {\r\n        const actor = this.object\r\n        setFlag(actor, 'unspecified', unspecified.trim())\r\n        setFlag(actor, 'specific', specific.trim())\r\n    }\r\n\r\n    activateListeners(html) {\r\n        html.find('button.cancel').on('click', this.#onCancel.bind(this))\r\n    }\r\n\r\n    #onCancel(event) {\r\n        event.preventDefault()\r\n        this.close()\r\n    }\r\n}\r\n", "import { EditLores } from '../apps/knowledges/lores'\r\nimport { getFlag, getSetting } from '../module'\r\n\r\nlet HOOK = null\r\n\r\nexport function registerKnowledges() {\r\n    return {\r\n        settings: [\r\n            {\r\n                name: 'knowledges',\r\n                type: Boolean,\r\n                default: false,\r\n                onChange: setHooks,\r\n            },\r\n        ],\r\n        conflicts: ['pf2e-npc-knowledges'],\r\n        ready: isGM => {\r\n            if (isGM && getSetting('knowledges')) setHooks(true)\r\n        },\r\n    }\r\n}\r\n\r\nfunction setHooks(value) {\r\n    if (value && !HOOK) {\r\n        HOOK = Hooks.on('renderNPCSheetPF2e', renderNPCSheetPF2e)\r\n    } else if (!value && HOOK) {\r\n        Hooks.off('renderNPCSheetPF2e', HOOK)\r\n        HOOK = null\r\n    }\r\n}\r\n\r\nfunction renderNPCSheetPF2e(sheet, $html) {\r\n    const actor = sheet.actor\r\n\r\n    replaceLores(actor, $html)\r\n    addEditButton($html)\r\n    addEvents(actor, $html)\r\n}\r\n\r\nfunction knowledgeSelector(html, section, selector) {\r\n    return html.find(\r\n        `[data-tab=\"main\"] .recall-knowledge ${section === 'header' ? '.section-header' : '.section-body'} ${selector}`\r\n    )\r\n}\r\n\r\nfunction editLores(actor) {\r\n    new EditLores(actor).render(true)\r\n}\r\n\r\nfunction replaceLores(actor, html) {\r\n    const unspecifics = getFlag(actor, 'unspecified')\r\n    const specifics = getFlag(actor, 'specific')\r\n    if (!unspecifics && !specifics) return\r\n\r\n    const lores = actor.identificationDCs.lore\r\n    const body = knowledgeSelector(html, 'body', '')\r\n    body.find('.identification-skills').last().remove()\r\n\r\n    function tag(skills, dc, adjustment) {\r\n        const content = game.i18n.format('PF2E.Actor.NPC.Identification.Skills.Label', { skills, dc, adjustment })\r\n        return `<div class=\"tag-legacy identification-skills tooltipstered\">${content}</div>`\r\n    }\r\n\r\n    function addTags(lores, { dc, start }) {\r\n        const tags = lores\r\n            .split(',')\r\n            .filter(lore => lore.trim())\r\n            .map(lore => tag(lore, dc, start))\r\n            .join('')\r\n        body.append(tags)\r\n    }\r\n\r\n    addTags(unspecifics || 'Unspecific', lores[0])\r\n    addTags(specifics || 'Specific', lores[1])\r\n}\r\n\r\nfunction addEvents(actor, html) {\r\n    const edit = knowledgeSelector(html, 'header', 'button.edit')\r\n    edit.on('click', () => editLores(actor))\r\n}\r\n\r\nfunction addEditButton(html) {\r\n    const attempts = knowledgeSelector(html, 'header', 'button')\r\n    const edit = '<button type=\"button\" class=\"breakdown edit\">Edit</button>'\r\n    attempts.before(edit)\r\n}\r\n", "import { getSetting, registerWrapper } from '../module'\r\n\r\nconst ACTOR_PREPARE_EMBEDDED_DOCUMENTS = 'CONFIG.Actor.documentClass.prototype.prepareEmbeddedDocuments'\r\n\r\nexport function registerNobulk() {\r\n    return {\r\n        settings: [\r\n            {\r\n                name: 'nobulk',\r\n                type: Boolean,\r\n                default: false,\r\n                requiresReload: true,\r\n            },\r\n        ],\r\n        init: () => {\r\n            if (!getSetting('nobulk')) return\r\n            registerWrapper(ACTOR_PREPARE_EMBEDDED_DOCUMENTS, actorPrepareEmbeddedDocuments, 'WRAPPER')\r\n        },\r\n    }\r\n}\r\n\r\nfunction actorPrepareEmbeddedDocuments(wrapped, ...args) {\r\n    wrapped(...args)\r\n\r\n    const actor = this\r\n    const InventoryBulk = actor.inventory.bulk.constructor\r\n\r\n    Object.defineProperty(actor.inventory, 'bulk', {\r\n        get() {\r\n            const inventoryBulk = new InventoryBulk(actor)\r\n            inventoryBulk.value = InventoryBulk.computeTotalBulk(\r\n                actor.inventory.filter(i => !i.isInContainer && i.system.equipped.carryType !== 'dropped'),\r\n                actor.size\r\n            )\r\n            return inventoryBulk\r\n        },\r\n    })\r\n}\r\n", "import { getSetting } from '../module'\r\n\r\nlet CREATE_HOOK = null\r\nlet UPDATE_HOOK = null\r\n\r\nexport function registerUnided() {\r\n    return {\r\n        settings: [\r\n            {\r\n                name: 'unided',\r\n                type: String,\r\n                default: 'disabled',\r\n                choices: ['disabled', 'create', 'all'],\r\n                onChange: setHooks,\r\n            },\r\n        ],\r\n        conflicts: ['pf2e-unided'],\r\n        init: () => {\r\n            setHooks()\r\n        },\r\n    }\r\n}\r\n\r\nfunction setHooks(value) {\r\n    value ??= getSetting('unided')\r\n\r\n    if (value === 'disabled') {\r\n        if (CREATE_HOOK) {\r\n            Hooks.off('preCreateItem', CREATE_HOOK)\r\n            CREATE_HOOK = null\r\n        }\r\n        if (UPDATE_HOOK) {\r\n            Hooks.off('preUpdateItem', UPDATE_HOOK)\r\n            UPDATE_HOOK = null\r\n        }\r\n    } else {\r\n        if (!CREATE_HOOK) {\r\n            CREATE_HOOK = Hooks.on('preCreateItem', preCreateItem)\r\n        }\r\n        if (value === 'all' && !UPDATE_HOOK) {\r\n            UPDATE_HOOK = Hooks.on('preUpdateItem', preUpdateItem)\r\n        } else if (value !== 'all' && UPDATE_HOOK) {\r\n            Hooks.off('preUpdateItem', UPDATE_HOOK)\r\n            UPDATE_HOOK = null\r\n        }\r\n    }\r\n}\r\n\r\nfunction preCreateItem(item) {\r\n    if (!item.img || !item.isOfType('physical')) return\r\n    item._source.system.identification.unidentified.img = item.img\r\n}\r\n\r\nfunction preUpdateItem(item, changes) {\r\n    if (!item.isOfType('physical') || !('img' in changes)) return\r\n    setProperty(changes, 'system.identification.unidentified.img', changes.img)\r\n}\r\n", "import { MODULE_ID, warn } from './module'\r\nimport { registerArp } from './modules/arp'\r\nimport { registerEffectsPanelHelper } from './modules/effects'\r\nimport { registerKnowledges } from './modules/knowledges'\r\nimport { registerNobulk } from './modules/nobulk'\r\nimport { registerUnided } from './modules/unided'\r\n\r\nconst MODULES = [registerArp(), registerNobulk(), registerKnowledges(), registerUnided(), registerEffectsPanelHelper()]\r\nconst CONFLICTS = new Set()\r\n\r\nHooks.once('init', () => {\r\n    const user = game.data.users.find(x => x._id === game.data.userId)\r\n    const isGM = user && user.role >= CONST.USER_ROLES.GAMEMASTER\r\n\r\n    for (const module of MODULES) {\r\n        const { settings = [], init, conflicts = [] } = module\r\n\r\n        for (const setting of settings) {\r\n            const name = setting.name\r\n\r\n            if (setting.choices) {\r\n                setting.choices = setting.choices.reduce((choices, choice) => {\r\n                    choices[choice] = settingPath(name, `choices.${choice}`)\r\n                    return choices\r\n                }, {})\r\n            }\r\n\r\n            game.settings.register(MODULE_ID, name, {\r\n                scope: 'world',\r\n                config: true,\r\n                ...setting,\r\n                name: settingPath(name, 'name'),\r\n                hint: settingPath(name, 'hint'),\r\n            })\r\n        }\r\n\r\n        if (isGM) {\r\n            for (const id of conflicts) {\r\n                const conflictingModule = game.modules.get(id)\r\n                if (conflictingModule?.active) {\r\n                    module.conflicting = true\r\n                    CONFLICTS.add(conflictingModule.title)\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!module.conflicting && init) init(isGM)\r\n    }\r\n})\r\n\r\nHooks.once('ready', () => {\r\n    const isGM = game.user.isGM\r\n\r\n    for (const { conflicting, ready } of MODULES) {\r\n        if (!conflicting && ready) ready(isGM)\r\n    }\r\n\r\n    if (isGM) {\r\n        for (const conflict of CONFLICTS) {\r\n            warn('module-conflict', { name: conflict }, true)\r\n        }\r\n    }\r\n})\r\n\r\nfunction settingPath(setting, key) {\r\n    return `${MODULE_ID}.settings.${setting}.${key}`\r\n}\r\n"],
  "mappings": "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",
  "names": ["MODULE_ID", "getSetting", "setting", "__name", "localize", "args", "key", "data", "hasLocalization", "localizePath", "subLocalize", "subKey", "fn", "warn", "info", "error", "hash", "notify", "str", "arg1", "arg2", "arg3", "type", "permanent", "registerWrapper", "path", "callback", "getFlag", "doc", "fallback", "setFlag", "value", "templatePath", "x", "PREPARE_WEAPON_DATA", "PREPARE_WEAPON_DERIVED_DATA", "PREPARE_ARMOR_DATA", "PREPARE_ARMOR_DERIVED_DATA", "WEAPON_EXCLUDES", "registerArp", "getSetting", "registerWrapper", "onPrepareWeaponData", "onPrepareWeaponDerivedData", "onPrepareArmorData", "onPrepareArmorDerivedData", "isGM", "info", "__name", "isValidActor", "actor", "isCharacter", "isValidWeapon", "weapon", "traits", "wrapped", "level", "WEAPON_POTENCY_PRICE", "WEAPON_STRIKING_PRICE", "gp", "potency", "striking", "isValidArmor", "armor", "ARMOR_POTENCY_PRICE", "ARMOR_RESILIENCY_PRICE", "resiliency", "registerEffectsPanelHelper", "refreshEffectsPanel", "renderEffectsPanel", "__name", "panel", "html", "effectRemove", "getSetting", "conditionSheet", "removeRow", "localize", "editIcon", "effectPanels", "effectPanel", "id", "effect", "event", "onRemoveEffect", "h1", "onConditionSheet", "getEffect", "EditLores", "actor", "options", "id", "templatePath", "getFlag", "subLocalize", "event", "unspecified", "specific", "setFlag", "html", "#onCancel", "__name", "HOOK", "registerKnowledges", "setHooks", "isGM", "getSetting", "__name", "value", "renderNPCSheetPF2e", "sheet", "$html", "actor", "replaceLores", "addEditButton", "addEvents", "knowledgeSelector", "html", "section", "selector", "editLores", "EditLores", "unspecifics", "getFlag", "specifics", "lores", "body", "tag", "skills", "dc", "adjustment", "addTags", "start", "tags", "lore", "attempts", "edit", "ACTOR_PREPARE_EMBEDDED_DOCUMENTS", "registerNobulk", "getSetting", "registerWrapper", "actorPrepareEmbeddedDocuments", "__name", "wrapped", "args", "actor", "InventoryBulk", "inventoryBulk", "i", "CREATE_HOOK", "UPDATE_HOOK", "registerUnided", "setHooks", "__name", "value", "getSetting", "preCreateItem", "preUpdateItem", "item", "changes", "MODULES", "registerArp", "registerNobulk", "registerKnowledges", "registerUnided", "registerEffectsPanelHelper", "CONFLICTS", "user", "x", "isGM", "module", "settings", "init", "conflicts", "setting", "name", "choices", "choice", "settingPath", "MODULE_ID", "id", "conflictingModule", "conflicting", "ready", "conflict", "warn", "key", "__name"]
}
